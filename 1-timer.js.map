{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\r\nimport \"flatpickr/dist/flatpickr.min.css\";\r\nimport \"flatpickr/dist/themes/material_blue.css\";\r\n\r\nconst datatePickerinput = document.querySelector('#datetime-picker');\r\nconst startButton = document.querySelector('[data-start]');\r\nconst timerDisplay = document.querySelector('.timer');\r\nconst daysDisplay = document.querySelector('[data-days]');\r\nconst hoursDisplay = document.querySelector('[data-hours]');\r\nconst minutesDisplay = document.querySelector('[data-minutes]');\r\nconst secondsDisplay = document.querySelector('[data-seconds]');\r\nconst currentDate = new Date();\r\nstartButton.disabled = true;\r\nlet userSelectedDate = null;\r\n\r\n\r\nflatpickr( \"#datetime-picker\", {\r\n    enableTime: true,\r\n  time_24hr: true,\r\n   dateFormat: \"Y-m-d H:i\",\r\n  defaultDate: new Date(),\r\n  minuteIncrement: 1,\r\n  onClose(selectedDates) {\r\n    console.log(selectedDates[0]);\r\n    if (selectedDates[0] < currentDate) {\r\n      window.alert(\"Please choose a date in the future\");\r\n      startButton.disabled = true;\r\n    } else {\r\n      startButton.disabled = false;\r\n      userSelectedDate = selectedDates[0];\r\n    }\r\n  },\r\n} );\r\n\r\nstartButton.addEventListener('click', () => {\r\n\r\nstartButton.disabled = true;\r\ndatatePickerinput.disabled = true;\r\n\r\nconst timerInterval = setInterval(() => {\r\n    const currentDate = new Date()\r\n    const timeDifference = userSelectedDate - currentDate;\r\n\r\n    if (timeDifference <= 0){\r\n        clearInterval(timerInterval);\r\n        daysDisplay.textContent = '00';\r\n        hoursDisplay.textContent = '00';\r\n        minutesDisplay.textContent = '00';\r\n        secondsDisplay.textContent = '00';\r\n        datatePickerinput.disabled = false;\r\n        startButton.disabled = false;\r\n        alert(\"Time's up!\");\r\n        return;\r\n    }\r\n\r\nupdateTimerDisplay(timeDifference)\r\n\r\n}, 1000 );\r\n\r\n  function updateTimerDisplay(ms) {\r\nconst { days, hours, minutes, seconds } = convertMs(ms);\r\n        daysDisplay.textContent = addLeadingZero(days);\r\n        hoursDisplay.textContent = addLeadingZero(hours);\r\n        minutesDisplay.textContent = addLeadingZero(minutes);\r\n        secondsDisplay.textContent = addLeadingZero(seconds);\r\n  }\r\n\r\n});\r\n\r\n\r\n\r\nfunction convertMs(ms) {\r\n  // Number of milliseconds per unit of time\r\n  const second = 1000;\r\n  const minute = second * 60;\r\n  const hour = minute * 60;\r\n  const day = hour * 24;\r\n\r\n  // Remaining days\r\n  const days = Math.floor(ms / day);\r\n  // Remaining hours\r\n  const hours = Math.floor((ms % day) / hour);\r\n  // Remaining minutes\r\n  const minutes = Math.floor(((ms % day) % hour) / minute);\r\n  // Remaining seconds\r\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\r\n\r\n  return { days, hours, minutes, seconds };\r\n}\r\n\r\nfunction addLeadingZero(value) {\r\n    return String(value).padStart(2, '0');\r\n}\r\n"],"names":["datatePickerinput","startButton","daysDisplay","hoursDisplay","minutesDisplay","secondsDisplay","currentDate","userSelectedDate","flatpickr","selectedDates","timerInterval","timeDifference","updateTimerDisplay","ms","days","hours","minutes","seconds","convertMs","addLeadingZero","value"],"mappings":"wIAIA,MAAMA,EAAoB,SAAS,cAAc,kBAAkB,EAC7DC,EAAc,SAAS,cAAc,cAAc,EACpC,SAAS,cAAc,QAAQ,EACpD,MAAMC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAc,IAAI,KACxBL,EAAY,SAAW,GACvB,IAAIM,EAAmB,KAGvBC,EAAW,mBAAoB,CAC3B,WAAY,GACd,UAAW,GACV,WAAY,YACb,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EACxBA,EAAc,CAAC,EAAIH,GACrB,OAAO,MAAM,oCAAoC,EACjDL,EAAY,SAAW,KAEvBA,EAAY,SAAW,GACvBM,EAAmBE,EAAc,CAAC,EAErC,CACH,GAEAR,EAAY,iBAAiB,QAAS,IAAM,CAE5CA,EAAY,SAAW,GACvBD,EAAkB,SAAW,GAE7B,MAAMU,EAAgB,YAAY,IAAM,CAEpC,MAAMC,EAAiBJ,EADH,IAAI,KAGxB,GAAII,GAAkB,EAAE,CACpB,cAAcD,CAAa,EAC3BR,EAAY,YAAc,KAC1BC,EAAa,YAAc,KAC3BC,EAAe,YAAc,KAC7BC,EAAe,YAAc,KAC7BL,EAAkB,SAAW,GAC7BC,EAAY,SAAW,GACvB,MAAM,YAAY,EAClB,MACH,CAELW,EAAmBD,CAAc,CAEjC,EAAG,GAAI,EAEL,SAASC,EAAmBC,EAAI,CAClC,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAKC,EAAUL,CAAE,EAC9CX,EAAY,YAAciB,EAAeL,CAAI,EAC7CX,EAAa,YAAcgB,EAAeJ,CAAK,EAC/CX,EAAe,YAAce,EAAeH,CAAO,EACnDX,EAAe,YAAcc,EAAeF,CAAO,CACxD,CAEH,CAAC,EAID,SAASC,EAAUL,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASE,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC"}